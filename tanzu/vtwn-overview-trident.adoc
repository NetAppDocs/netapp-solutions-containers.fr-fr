---
sidebar: sidebar 
permalink: tanzu/vtwn-overview-trident.html 
keywords: Trident, Trident, Helm, Operator, iSCSI, NFS, Tanzu, VMware Tanzu with NetApp Trident 
summary: Trident est un orchestrateur de stockage open source et entièrement pris en charge pour les conteneurs et les distributions Kubernetes, y compris VMware Tanzu. 
---
= Présentation de Trident
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/
:k8s_distribution_name: Red Hat OpenShift, VMware Tanzu, Anthos by Google Cloud, Rancher etc


[role="lead"]
Trident est un orchestrateur de stockage open source et entièrement pris en charge pour les conteneurs et les distributions Kubernetes, y compris VMware Tanzu.

[role="normal"]
Trident est un orchestrateur de stockage open source entièrement pris en charge pour les conteneurs et les distributions Kubernetes comme {k8s_distribution_name}.  Trident fonctionne avec l'ensemble du portefeuille de stockage NetApp , y compris les systèmes de stockage NetApp ONTAP et Element, et prend également en charge les connexions NFS et iSCSI.  Trident accélère le flux de travail DevOps en permettant aux utilisateurs finaux de provisionner et de gérer le stockage à partir de leurs systèmes de stockage NetApp sans nécessiter l'intervention d'un administrateur de stockage.

Un administrateur peut configurer un certain nombre de backends de stockage en fonction des besoins du projet et des modèles de système de stockage qui permettent des fonctionnalités de stockage avancées, notamment la compression, des types de disques spécifiques ou des niveaux de qualité de service qui garantissent un certain niveau de performances.  Une fois définis, ces backends peuvent être utilisés par les développeurs dans leurs projets pour créer des revendications de volume persistant (PVC) et pour attacher un stockage persistant à leurs conteneurs à la demande.

image:redhat-openshift-002.png["Figure montrant une boîte de dialogue d'entrée/sortie ou représentant un contenu écrit"]

Trident a un cycle de développement rapide et, comme Kubernetes, est publié quatre fois par an.

La dernière version de Trident est la 22.04 sortie en avril 2022.  Une matrice de support indiquant quelle version de Trident a été testée avec quelle distribution Kubernetes peut être trouvée https://docs.netapp.com/us-en/trident/trident-get-started/requirements.html#supported-frontends-orchestrators["ici"] .

À partir de la version 20.04, la configuration de Trident est effectuée par l'opérateur Trident .  L'opérateur facilite les déploiements à grande échelle et fournit un support supplémentaire, notamment l'auto-réparation pour les pods déployés dans le cadre de l'installation Trident .

Avec la version 21.01, une carte Helm a été mise à disposition pour faciliter l'installation de l'opérateur Trident .



== Déployer l'opérateur Trident à l'aide de Helm

. Définissez d'abord l'emplacement du cluster d'utilisateurs `kubeconfig` fichier comme variable d'environnement afin que vous n'ayez pas à y faire référence, car Trident n'a pas la possibilité de transmettre ce fichier.
+
[listing]
----
[netapp-user@rhel7]$ export KUBECONFIG=~/tanzu-install/auth/kubeconfig
----
. Ajoutez le référentiel helm NetApp Trident .
+
[listing]
----
[netapp-user@rhel7]$ helm repo add netapp-trident https://netapp.github.io/trident-helm-chart
"netapp-trident" has been added to your repositories
----
. Mettre à jour les dépôts Helm.
+
[listing]
----
[netapp-user@rhel7]$ helm repo update
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "netapp-trident" chart repository
...Successfully got an update from the "bitnami" chart repository
Update Complete. ⎈Happy Helming!⎈
----
. Créez un nouvel espace de noms pour l’installation de Trident.
+
[listing]
----
[netapp-user@rhel7]$ kubetcl create ns trident
----
. Créez un secret avec les informations d’identification DockerHub pour télécharger les images Trident .
+
[listing]
----
[netapp-user@rhel7]$ kubectl create secret docker-registry docker-registry-cred --docker-server=docker.io --docker-username=netapp-solutions-tme --docker-password=xxxxxx -n trident
----
. Pour les clusters d'utilisateurs ou de charges de travail gérés par TKGS (vSphere avec Tanzu) ou TKG avec des déploiements de clusters de gestion, suivez la procédure suivante pour installer Trident:
+
.. Assurez-vous que l'utilisateur connecté dispose des autorisations nécessaires pour créer des comptes de service dans l'espace de noms Trident et que les comptes de service dans l'espace de noms Trident disposent des autorisations nécessaires pour créer des pods.
.. Exécutez la commande helm ci-dessous pour installer l’opérateur Trident dans l’espace de noms créé.
+
[listing]
----
[netapp-user@rhel7]$ helm install trident netapp-trident/trident-operator -n trident --set imagePullSecrets[0]=docker-registry-cred
----


. Pour un cluster d’utilisateurs ou de charges de travail géré par les déploiements TKGI, exécutez la commande helm suivante pour installer l’opérateur Trident dans l’espace de noms créé.
+
[listing]
----
[netapp-user@rhel7]$ helm install trident netapp-trident/trident-operator -n trident --set imagePullSecrets[0]=docker-registry-cred,kubeletDir="/var/vcap/data/kubelet"
----
. Vérifiez que les pods Trident sont opérationnels.
+
[listing]
----
NAME                                READY   STATUS    RESTARTS        AGE
trident-csi-6vv62                   2/2     Running   0               14m
trident-csi-cfd844bcc-sqhcg         6/6     Running   0               12m
trident-csi-dfcmz                   2/2     Running   0               14m
trident-csi-pb2n7                   2/2     Running   0               14m
trident-csi-qsw6z                   2/2     Running   0               14m
trident-operator-67c94c4768-xw978   1/1     Running   0               14m

[netapp-user@rhel7]$ ./tridentctl -n trident version
+----------------+----------------+
| SERVER VERSION | CLIENT VERSION |
+----------------+----------------+
| 22.04.0          | 22.04.0          |
+----------------+----------------+
----




== Créer des backends de système de stockage

Une fois l’installation de Trident Operator terminée, vous devez configurer le backend pour la plate-forme de stockage NetApp spécifique que vous utilisez.  Suivez les liens ci-dessous pour continuer l'installation et la configuration de Trident.

* link:vtwn-trident-ontap-nfs.html["NetApp ONTAP NFS"]
* link:vtwn-trident-ontap-iscsi.html["NetApp ONTAP iSCSI"]

